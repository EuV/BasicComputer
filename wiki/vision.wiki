#summary Общее видение новой реализации

= Примерная структура классов =

1. Корневой класс имеет:\\
- конструктор(input), регистрирующийся в input-е через addListener()\\
- addListener()\\
- removeListener()\\
- метод execute() вызываемый при срабатывании листенера\\
- поле value (?)\\
- get()\\
- get(bitno)\\
- get(startbit, bitno)

2. расшырение корня - регистр\\
- поля width и mask\\
- конструктору еще указываваем width\\
- execute() приводит к записи данных из input\\
- set()\\
- getwidth()

3. расшырение регистра (?) - регистр для клавишного и РДВУ\\
- setbit()\\
- invertbit()

4. расшырение регистра - память\\
- конструктору еще указываем его регистр адреса, из которого узнаём объём памяти\\
- по execute записывает в value значение ячейки по адресу из своего РА\\

5. расшырение корневого - шЫна\\
- конструктору указываются все имеющиеся входы в него, в которых он регистрируется

6. расшырение корневого - вентиль\\
- конструктору указываем datainput и controlinput. для inputdata также указываем стартовый бит и количество бит, для controlinput - номер управляющего бита. регистрация listener-ом только для controlinput\\
- execute проверяет установленность требуемого бита и делает записывает значение в value и дёргает слушателей только если он установлен.

7. расшырения вентиля - вентиль-не, вентиль проверяющий на равенство 0, вентили имеющие по два datainput для сдвигов, сложения, сложения+1, логического умножения, ...

8. расшЫрение корневого - инвертор\\
- конструктору указываем номер бита, который инвертировать

9. расшЫрение корня - дешЫфратор\\
- конструктору указываем input и стартовый/количество бит. на выходе формируем дешЫфрованный сигнал (0->0x01, 1->0x02, ..., 7-> 0x80, ...)

= Примерная прикидка логики работы =
Принудительно дёргается execute памяти микрокоманд.\\
Память дёргает слушателей:\\
- РМК, который тупо записывает в себя значение команды\\
- вентиль похожый на ВР0\\
- инвертор, инвертирующий старшЫй бит и запускающий вентиль похожЫй на ВР1\\

ВР0 дёргает ВР00 (для ОМК0) и через инвертор ВР01 (для ОМК1), которые дёргают в нужном порядке свои дешыфраторы, которые дёргают вентили, от которых кружыццо БЭВМ, и всё зашуршало

Бага: не получим логическое ИЛИ\\
Фича: Вроде не нужно чистить состояние вентилей и прочего в конце такта